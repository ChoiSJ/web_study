<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form method="post" action="order.jsp">
		수량:<br/>
		<input type="text" id="qty-field"/><br/>
		메모:<br/>
		<textarea rows="5" cols="60" id="memo" onkeyup="keyUp()"></textarea>
	</form>
	<button onclick="chooseNumber()">번호만 뽑아내기</button>
	<p>입력된 문자갯수:<span id="cnt-label">0</span>개</p>
</body>
<script type="text/javascript">
	function chooseNumber() {
		var input = document.getElementById("qty-field");
		var value = input.value;
		
		var arr = value.split('');
		// filter(callback): 배열의 filter 메소드는 지정된 콜백함수가 true 를 반환하는 요소로 구성된 새로운 배열을 제공한다.
		// filter(callback): callback 함수는 배열의 각 요소마다 한 번씩 실행된다.
		// callback 함수에는 배열의 각 요소가 순서대로 하나씩 전달된다.
		// callback 함수가 true 를 반환하는 요소만 새로운 배열에 저장된다.
		var numberArr = arr.filter(function(item) {
			var pattern = /[0-9]/;
			return pattern.test(item);
		});
		
		input.value = numberArr.join("");
		
		return true;
	}

	function keyDown() {
		console.log("onkeydown event");
	}
	
	function keyPress() {
		console.log("onkeypress event");
	}
	
	function keyUp() {
		var area = document.getElementById("memo");
		var span = document.getElementById("cnt-label");
		var text = area.value;
		
		span.textContent = text.length;
	}
	
	/*
	function checkNumber() {
		var input = document.getElementById("qty-field");
		var value = input.value;
		
		var pattern = /^[0-9]*$/;
		if (!pattern.test(value)) {
			alert("숫자만 입력해주세요.");
			
			var numberValue = value.substring(0, value.length-1);
			
			input.value = numberValue;	// input 박스 입력값 지우기
			input.focus();		// input 박스로 포커스 옮기기
			return;
		}
	}
	*/
</script>
</html>